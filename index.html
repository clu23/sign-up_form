<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sign-up form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="main">
      <div class="side-hero">
        <div>
          <img src="./Images/odin-lined.png" alt="The Odin Project Logo">
          <h1>SIGN-UP FORM</h1>
        </div>
        <p>Photo by Rohit Tandon on Unsplash</p>
      </div>
      <div class="form-section">
        <div class="header">
          <div class="header-text">
            <p>This is not a real online service ! You know you need something like this in your life to help you realize your deepest dreams. Sign up <em>now</em> to get started.</p>
            <p>You <em>know</em> you want to.</p>
          </div>
        </div>
        <div>
          <div class="input-section">
            <p>Let's do this!</p>
            <form action="#" method="get">
              <div>
                <label for="first_name">FIRST NAME</label>
                <input type="text" id="first_name" name="first_name" required>
                <div id='first-name-error' class='error'></div>
              </div>
              <div>
                <label for="last_name">LAST NAME</label>
                <input type="text" id="last_name" name="last_name" required>
                <div id='last-name-error' class='error'></div>
              </div>
              <div>
                <label for="email">EMAIL</label>
                <input type="email" id="email" name="email" required>
                <div id='email-error' class='error'></div>
              </div>
              <div>
                <label for="phone_number">PHONE NUMBER</label>
                <input type="tel" id="phone_number" name="phone_number" pattern="[0-9]{10}" required>
                <div id='tel-error' class='error'></div>
              </div>
              <div>
                <label for="password">PASSWORD</label>
                <input type="password" id="password" name="password" minlength="8" required pattern='(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}'>
                <div id='password-error' class='error'></div>
              </div>
              <div>
                <label for="confirm_password">CONFIRM PASSWORD</label>
                <input type="password" id="confirm_password" name="confirm_password" minlength="8" required pattern='(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}'>
                <div id='passwordC-error' class='error'></div>
              </div>
            </form>
          </div>
        </div>
        <div class="submit-section">
          <button>Create Account</button>
          <div>Already have an account ? <a href="">Log in</a></div>
        </div>
      </div>
    </div>
    <script>
      const pwd = document.querySelector('#password');
      const pwdC = document.querySelector('#confirm_password');
      const firstname = document.querySelector('#first_name');
      const lastname = document.querySelector('#last_name');
      const email = document.querySelector('#email');
      const tel = document.querySelector('#phone_number');
      const pwdError = document.querySelector('#password-error');
      const pwdCError = document.querySelector('#passwordC-error');
      const firstnameError = document.querySelector('#first-name-error');
      const lastnameError = document.querySelector('#last-name-error');
      const emailError = document.querySelector('#email-error');
      const telError = document.querySelector('#tel-error');

      firstname.addEventListener("input", function (event) {
        if (firstname.value === '') {
          firstnameError.textContent = 'Please type in your first name.';
        } 
        else {
          firstnameError.textContent = '';
        }
      });

      lastname.addEventListener("input", function (event) {
        if (lastname.value === '') {
          lastnameError.textContent = 'Please type in your last name';
        } else {
          lastnameError.textContent = '';
        }
      }); 

      email.addEventListener("input", function (event) {
        if (email.validity.typeMismatch) {
          emailError.textContent = 'Please enter in a valid Email. ex(johnSmith@email.com)';
        } else {
          emailError.textContent = '';
        }
      }); 

      tel.addEventListener("input", function (event) {
        if (tel.validity.patternMismatch) {
          telError.textContent = 'Please enter in a 10 digit phone number';
        } else {
          telError.textContent = '';
        }     
      }); 

      pwd.addEventListener("input", function (event) {
        if (pwd.validity.patternMismatch){
          const currentValue = pwd.value;
          const regExpCap = /[A-Z]/g;
          const regExpDig = /[0-9]/g;
          let result = '';
          if (regExpCap.test(currentValue)){
            result += '';
          } else {
            result += `Missing at least 1 capital letter. `;
            result += '\n';
          }
        
        
          if (regExpDig.test(currentValue)){
            result += '';
          } else {
            result += 'Missing at least 1 number. ';
            result += '\n';
          }
        
          if (currentValue.length < 9){
            result += 'Password must be at least 8 characters. '
            result += '\n';
          } else {
            result += '';
          }

          console.log(result);
          pwdError.textContent = result;

  
        } else {
          pwdError.textContent = '';
        }
      });
  
      pwdC.addEventListener("input", function (event) {
        if (pwdC.value !== pw.value) {
          pwdCError.textContent = 'Passwords do not match';
        } else {
          pwdCError.textContent = '';
        }
      }); 
    </script>
    
  </body>
</html>